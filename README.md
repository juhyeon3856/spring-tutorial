# 1ì°¨ì‹œ ë¯¸ì…˜ (Spring Boot íŠœí† ë¦¬ì–¼)

## 1ï¸âƒ£ spring-tutorial ì™„ë£Œ

> ê¹ƒì„ ë‹¤ë¤„ë³¼ ìˆ˜ ìˆì–´ì„œ ì¢‹ì•˜ê³ ,  
> ê°„ë‹¨í•œ ì½”ë“œ ì‘ì„±ê³¼ í…ŒìŠ¤íŠ¸ê¹Œì§€ í•´ë³¼ ìˆ˜ ìˆì–´ ìœ ìµí–ˆìŠµë‹ˆë‹¤.

---

## 2ï¸âƒ£ Springì´ ì§€ì›í•˜ëŠ” ê¸°ìˆ ë“¤ (IoC/DI, AOP, PSA ë“±) ì¡°ì‚¬

### 1. POJOë€?

- ì™¸ë¶€ ê¸°ìˆ (ìŠ¤í”„ë§ ë“±)ì— ì¢…ì†ë˜ì§€ ì•Šê³ , ìˆœìˆ˜í•œ ìë°” ë¬¸ë²•ë§Œìœ¼ë¡œ ì‘ì„±ëœ ê°ì²´.
- í”„ë ˆì„ì›Œí¬ ì˜ì¡´ ì—†ì´ ììœ ë¡­ê²Œ í…ŒìŠ¤íŠ¸í•˜ê³  ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### 2. IoC/DI (ì œì–´ì˜ ì—­ì „ / ì˜ì¡´ì„± ì£¼ì…)

- ê°ì²´ ìƒì„±ê³¼ ì˜ì¡´ì„± ì£¼ì…ì„ **ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ**ê°€ ëŒ€ì‹  ê´€ë¦¬í•œë‹¤.
- ê°œë°œìëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤.
- ê°œë°œìê°€ ì§ì ‘ `new`ë¡œ ê°ì²´ë¥¼ ë§Œë“¤ì§€ ì•Šê³ , ìŠ¤í”„ë§ì´ ëŒ€ì‹  ì£¼ì…í•˜ëŠ” êµ¬ì¡° â†’ **ì œì–´ì˜ ì—­ì „(Inversion of Control)**

### 3. AOP (Aspect Oriented Programming)

- ê³µí†µ ê´€ì‹¬ì‚¬(ë¡œê¹…, íŠ¸ëœì­ì…˜, ë³´ì•ˆ ë“±)ë¥¼ í•µì‹¬ ë¡œì§ì—ì„œ ë¶„ë¦¬í•´ ì½”ë“œ ì¤‘ë³µì„ ì œê±°í•œë‹¤.
- ì£¼ë¡œ ì„œë¹„ìŠ¤ ê³„ì¸µì´ë‚˜ ì»¨íŠ¸ë¡¤ëŸ¬ ê³„ì¸µ ì‚¬ì´ì—ì„œ ë™ì‘í•˜ë©°, í•„í„°ì²˜ëŸ¼ ìš”ì²­ì„ ê°€ë¡œì±„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

### 4. PSA (Portable Service Abstraction)

- ì™¸ë¶€ ê¸°ìˆ (JDBC, JMS ë“±)ì„ ìŠ¤í”„ë§ì´ ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ì¶”ìƒí™”í•œë‹¤.
- ê¸°ìˆ ì´ ë°”ë€Œì–´ë„ ë¹„ì¦ˆë‹ˆìŠ¤ ì½”ë“œ ìˆ˜ì • ì—†ì´ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

---

## 3ï¸âƒ£ Spring Beanì´ ë¬´ì—‡ì´ê³ , Beanì˜ ë¼ì´í”„ì‚¬ì´í´

- `@Configuration`ì´ ë¶™ì€ í´ë˜ìŠ¤ëŠ” ìŠ¤í”„ë§ ì„¤ì • í´ë˜ìŠ¤ë¡œ ì¸ì‹ë˜ì–´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ êµ¬ë™ëœë‹¤.
- `@ComponentScan`ì„ í†µí•´ ì§€ì •ëœ íŒ¨í‚¤ì§€ì—ì„œ `@Component`, `@Service`, `@Repository`, `@Controller` ê°™ì€ ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ í´ë˜ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ìŠ¤ìº”í•˜ì—¬ **ë¹ˆ(Bean)**ìœ¼ë¡œ ë“±ë¡í•œë‹¤.

  > **(ì •ë¦¬)** `@Component`ëŠ” "ë¹ˆì´ ë  ìˆ˜ ìˆëŠ” í›„ë³´"ì´ê³ , `@ComponentScan`ì´ ì‹¤ì œë¡œ "ì°¾ì•„ì„œ ë“±ë¡"í•œë‹¤.

- ë“±ë¡ëœ ë¹ˆì€ ê¸°ë³¸ì ìœ¼ë¡œ **ì‹±ê¸€í†¤ ìŠ¤ì½”í”„**ë¡œ ê´€ë¦¬ëœë‹¤.

  - ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì—ì„œ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê³µìœ í•œë‹¤.
  - í•„ìš”ì— ë”°ë¼ í”„ë¡œí† íƒ€ì… ìŠ¤ì½”í”„ ë“± ë‹¤ë¥¸ ìŠ¤ì½”í”„ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤.

- ë¹ˆì˜ ìƒëª…ì£¼ê¸° ì¤‘:

  - `@PostConstruct` : ë¹ˆ ì´ˆê¸°í™” ì§í›„ í˜¸ì¶œ
  - `@PreDestroy` : ì»¨í…Œì´ë„ˆ ì¢…ë£Œ ì§ì „ì— í˜¸ì¶œ

- ë¹ˆìœ¼ë¡œ ë“±ë¡ëœ ê°ì²´ëŠ” `@Autowired`, ìƒì„±ì ì£¼ì… ë“±ì„ í†µí•´ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì˜ì¡´ì„±ì„ ì£¼ì…í•œë‹¤.
- ê°œë°œìëŠ” ì§ì ‘ ê°ì²´ë¥¼ `new`í•˜ì§€ ì•Šê³ , ìŠ¤í”„ë§ì´ ëŒ€ì‹  ê´€ë¦¬í•˜ëŠ” ê°ì²´ë¥¼ ì£¼ì…ë°›ì•„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ë§Œ ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤.

### ğŸ“Œ ì–´ë–¤ ê±¸ ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ê³ , ì–´ë–¤ ê±´ ì§ì ‘ newí•˜ëŠ”ê°€?

| êµ¬ë¶„                     | ì„¤ëª…                                | ì˜ˆì‹œ                                                                                                           |
| :----------------------- | :---------------------------------- | :------------------------------------------------------------------------------------------------------------- |
| ë¹ˆìœ¼ë¡œ ë“±ë¡í•˜ëŠ” ëŒ€ìƒ     | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ê³µí†µ ìœ í‹¸ì„± ì»´í¬ë„ŒíŠ¸ | `@Service`, `@Repository`, `@Controller`, `@Component`, í† í° ìƒì„±ê¸°, ì•”í˜¸í™” ìœ í‹¸                               |
| ì§ì ‘ newë¡œ ìƒì„±í•˜ëŠ” ëŒ€ìƒ | ìˆœìˆ˜ ë°ì´í„° ê°ì²´ë‚˜ ì„ì‹œ ê°ì²´        | DTO, VO (`UserRequest`, `OrderResponse`), ë‹¨ìˆœ ì»¬ë ‰ì…˜, `LocalDateTime`, `ObjectMapper` ë“± ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°ì²´ |

---

## 4ï¸âƒ£ ìŠ¤í”„ë§ ì–´ë…¸í…Œì´ì…˜ ì‹¬ì¸µ ë¶„ì„

### ì–´ë…¸í…Œì´ì…˜ì´ë€?

- ì–´ë…¸í…Œì´ì…˜ì€ "ì½”ë“œì— ì •ë³´ë¥¼ íƒœê·¸(Tag)ì²˜ëŸ¼ ë‹¤ëŠ” ê²ƒ"ì´ë‹¤.
- ì´ ì •ë³´(íƒœê·¸)ë¥¼ ì»´íŒŒì¼ëŸ¬ë‚˜ ìŠ¤í”„ë§ ê°™ì€ í”„ë ˆì„ì›Œí¬ê°€ ì½ê³  í•´ì„í•´ì„œ ë™ì‘ì„ ë‹¤ë¥´ê²Œ í•˜ë„ë¡ ë§Œë“œëŠ” ê²ƒì´ë‹¤.
- Javaì—ì„œëŠ” `@interface`ë¡œ ì„ ì–¸í•˜ê³ , `@Retention`, `@Target` ê°™ì€ ë©”íƒ€ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì‚¬ìš© ë²”ìœ„ì™€ ìœ ì§€ ì •ì±…ì„ ì„¤ì •í•œë‹¤.

### ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ ì£¼ìš” ì‚¬ìš© ì˜ˆì‹œ

1. AOP í¬ì¸íŠ¸ì»· ëŒ€ì²´
2. ì‹¤í–‰ ì¡°ê±´ ì œì–´ (Validation)
3. API ë¬¸ì„œí™”/ë©”íƒ€ì •ë³´ ì „ë‹¬
4. Bean ìƒì„±/ìŠ¤ìºë‹ íŒíŠ¸
5. ë³´ì•ˆ ê¶Œí•œ ì²´í¬
6. ì½”ë“œ ê°€ë…ì„± í–¥ìƒ

### 1. AOP í¬ì¸íŠ¸ì»· ëŒ€ì²´ ì˜ˆì‹œ

```java
@Target({ElementType.METHOD, ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
public @interface MySecured {}
```

```java
@Aspect
@Component
public class SecurityAspect {

    @Pointcut("@annotation(com.example.MySecured)")
    public void securedMethod() {}

    @Before("securedMethod()")
    public void checkSecurity() {
        System.out.println("ë³´ì•ˆ ì²´í¬ ì‹¤í–‰");
    }
}
```

### 2. ì‹¤í–‰ ì¡°ê±´ ì œì–´ (Validation) ì˜ˆì‹œ

**PhoneNumberValidator.java**

```java
import jakarta.validation.ConstraintValidator;
import jakarta.validation.ConstraintValidatorContext;

public class PhoneNumberValidator implements ConstraintValidator<PhoneNumber, String> {
    @Override
    public boolean isValid(String value, ConstraintValidatorContext context) {
        if (value == null) {
            return false;
        }
        return value.matches("^\\d{10,11}$");
    }
}
```

**PhoneNumber.java**

```java
import jakarta.validation.Constraint;
import jakarta.validation.Payload;

@Target({ElementType.FIELD})
@Retention(RetentionPolicy.RUNTIME)
@Constraint(validatedBy = PhoneNumberValidator.class)
public @interface PhoneNumber {
    String message() default "ì „í™”ë²ˆí˜¸ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.";
    Class<?>[] groups() default {};
    Class<? extends Payload>[] payload() default {};
}
```

**UserRequest.java**

```java
public class UserRequest {
    @PhoneNumber
    private String phone;
}
```

**UserController.java**

```java
@RestController
public class UserController {

    @PostMapping("/user")
    public String createUser(@RequestBody @Valid UserRequest request) {
        return "ì„±ê³µ!";
    }
}
```

---

---

## 5ï¸âƒ£ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ì™€ í†µí•© í…ŒìŠ¤íŠ¸ íƒêµ¬

| êµ¬ë¶„        | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Test)       | í†µí•© í…ŒìŠ¤íŠ¸ (Integration Test) |
| :---------- | :---------------------------- | :----------------------------- |
| í…ŒìŠ¤íŠ¸ ë²”ìœ„ | ë©”ì„œë“œ, í´ë˜ìŠ¤ ê°™ì€ ì‘ì€ ë‹¨ìœ„ | ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë‚˜ ì‹œìŠ¤í…œ ê°„ ì—°ê²° |
| ì‹¤í–‰ ì†ë„   | ë§¤ìš° ë¹ ë¦„                     | ìƒëŒ€ì ìœ¼ë¡œ ëŠë¦¼                |
| ì™¸ë¶€ ì˜ì¡´ì„± | ì—†ìŒ (Mocking)                | ì‹¤ì œ í™˜ê²½(DB, ì„œë²„ ë“±) ì‚¬ìš©    |
| ëª©ì         | ê¸°ëŠ¥ ë‹¨ë… ê²€ì¦                | ì‹œìŠ¤í…œ ì „ì²´ íë¦„ ì ê²€          |
| ì˜ˆì‹œ        | ì„œë¹„ìŠ¤ ë©”ì„œë“œ ë¡œì§ ê²€ì¦       | íšŒì›ê°€ì… API ìš”ì²­/ì‘ë‹µ ê²€ì¦    |

âœ…  
**ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**ëŠ” ë¹ ë¥´ê³  ëª…í™•í•˜ê²Œ ì‘ì€ ê¸°ëŠ¥ì„ ê²€ì¦í•œë‹¤.  
**í†µí•© í…ŒìŠ¤íŠ¸**ëŠ” ì‹œìŠ¤í…œ ì „ì²´ê°€ ìœ ê¸°ì ìœ¼ë¡œ ì‘ë™í•˜ëŠ”ì§€ ì ê²€í•œë‹¤.
